var BlockStream = require("../block-stream.js")

var blockSizes = [16, 25, 1024]
  , writeSizes = [4, 8, 15, 16, 17, 64, 100]
  , writeCounts = [1, 10, 100]
  , tap = require("tap")

writeCounts.forEach(function (writeCount) {
blockSizes.forEach(function (blockSize) {
writeSizes.forEach(function (writeSize) {
  tap.test("writeSize=" + writeSize +
           " blockSize="+blockSize +
           " writeCount="+writeCount, function (t) {
    var f = new BlockStream(blockSize, {nopad: true })

    var actualChu